# Бэкенд для приложения обмена валют

## Техническое задание

### Разработать бэкенд приложения обмена валют на Django/DjangoRestFramework. Реализовать следующий функционал:

#### 1. Регистрация пользователя. При регистрации пользователя автоматически создавать 4 счета в валютах RUR, EUR, USD, CNY посредством Django Signals.
#### 2. Аутентификация пользователя по почте и паролю c присвоением токена авторизации.
#### 3. Личный кабинет пользователя со следующими возможностями:

3.1 отображение и редактирование личных данных пользователя

3.2 отображение всех счетов пользователя с указанием балансов и валют

3.3 отображение актуальных курсов валют

3.4 перевод средств (на свой счет или счет другого пользователя системы). В случае отправки средств другому пользователю - отправлять смс уведомление(если у получателя включена данная опция) в фоновом режиме  посредства Celery. В качестве брокера сообщений использовать RabbitMQ

3.5 отображение списка операций по счетам с возможностью фильтрации и сортировки. 
Осуществить фильтрацию по следующим полям:
- Валюта
- Тип транзакции(списание/зачисление)
- Сумма транзакции
- Диапазон сумм для транзакции
- Дата создания транзакции
- Диапазон дат транзакций

Осуществить возможность сортировки по дате создания транзакции, по сумме транзакции

3.6 Реализовать постраничную пагинацию списка операций.

3.7 Логаут из личного кабинет

#### 4. Личный кабинет Администратора со следующими возможностями:
4.1 Вывод списка счетов всех пользователей с возможностью фильтрации и сортировки.  
Осуществить фильтрацию по следующим полям:
* Валюта счета (мультиселект)
* Баланс
* Диапазон сумм на балансе
* Номер счета
* Email пользователя(используется в качестве username)

Осуществить возможность сортировки по дате создания счета, балансу счета

4.2 Постраничная пагинация списка счетов.

4.3 Вывод списка всех транзакций всех пользователей с возможностью фильтрации и сортировки. 
Фильтрация осуществляется по следующим полям:
* Валюта операции (мультиселект)
* Тип транзакции
* Сумма транзакции
* Диапазон сумм для транзакции
* Дата создания транзакции
* Диапазон дат транзакций
* Счет отправителя
* Счет получателя

Сортировка осуществляется по датe создания транзакции и сумме транзакции.

4.4 Постраничная пагинация списка транзакций.

4.5 Пополнение баланса конкретного счета

#### 5. Реализовать автоматическое развертывание приложения посредством Docker-Compose.
#### 6. Для снижения нагрузки на основную базу использовать хранилище Redis для хранения и получения курсов валют.
#### 7. Ежедневно обновлять курсы валют посредством Celery Cron. Для получения актуальных курсов валют использовать API внешнего сервиса.
#### 8. В качестве СУБД используется PostgreSQL.
#### 9. Использовать Swagger для автодокументирования API.

